<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FawaStudios News & Blog Posts.">
    <meta name="keywords" content="Fawas Interactive, FawaStudios, Fawas, Clown, Sheep, Games, Game Development">
    <meta content="https://www.fawasinteractive.com/news" property="og:url">
    <meta content="#3F3787" data-react-helmet="true" name="theme-color">
    <meta property="og:image" content="https://fawasinteractive.com/images/General/FawasInteractive_Icon.png">
    <title>News - Fawas Interactive</title>
    <link rel="shortcut icon" type="image/png" href="images/General/FawasInteractive_Icon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/bootstrap.css">
</head>

<body class="body-about" style="background-color: black">

    <!------nav bar-------->
    <div id="navbar-placeholder"></div>
    <script>
        fetch('/navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));
    </script>

    <!-- Main Content -->
    <article class="grid">
        <div class="news-text">
            <p></p>
            <h1 style="font-size: 60px;color: white;text-shadow: 4px 4px 2px rgba(0,0,0,0.6);">NEWS</h1>

            <!-- Filter Buttons -->
            <div class="btn-toolbar" role="toolbar">
                <div class="btn-group mr-2" style="margin: auto; display: block;" role="group">
                    <button class="btn btn-dark" onclick="filterSelection('news')">News & Dev</button>
                    <button class="btn btn-dark" onclick="filterSelection('tutorials')">Tutorials</button>
                    <button class="btn btn-dark" onclick="filterSelection('clownclear')">Clown Clear</button>
                    <button class="btn btn-dark" onclick="filterSelection('fawasinteractive')">Fawas Interactive</button>
                </div>
            </div>

            <!-- Below is a test for a search bar. Might not be in this update, but either way the proportions are correct, but make it look like an actual search bar -->
            <!-- <p></p> -->
            <!-- Filter Buttons -->
            <!-- <div class="btn-toolbar" role="toolbar">  -->
            <!--     <button style="width: 100%" class="btn btn-dark" onclick="filterSelection('all')">Enter search...</button>  -->
            <!-- </div>  -->

            <p></p>
        </div>

            <!-- News List -->
            <div class="container">
            <div id="news-container" class="row row-cols-1 row-cols-md-4 g-4"></div>
            </div>

            </div>
        </div>
    </article>



    <!-- Cookie Popup -->
    <script async src="js/fawastudios_cookie.js"></script>
    <div id="cookie-popup" class="alert alert-dark text-center mb-0" role="alert">
        üç™üêë This website uses cookies to improve your experience.
        <a href="cookiepolicy.html">Learn more</a>
        <button type="button" class="btn btn-primary btn-sm ms-3" onclick="hideCookiePopup()">
            I Got It
        </button>
    </div>

    <script src="js/bootstrap.js"></script>
</body>
</html>

<script>
  async function loadNews() {
    const response = await fetch('resources/news.json');
    const newsList = await response.json();

    const container = document.getElementById("news-container");
    container.innerHTML = ""; // Clear existing items

    newsList.forEach(news => {
      const col = document.createElement("div");
      col.className = `col filterDiv ${news.tags.join(" ")} show`;

      col.innerHTML = `
        <div class="blog-post">
          <div class="content">
            <div class="thumbnail-container">
              <img class="thumbnail" src="${news.thumbnail}" alt="${news.title}">
            </div>
            <h5 class="post-title">${news.title}</h5>
            <p class="publication-date">${news.date}</p>
            <p class="post-description">${news.description}</p>
            <a href="${news.url}" class="btn btn-primary">Read More</a>
          </div>
        </div>
      `;
      container.appendChild(col);
    });

    // Reapply filtering logic if needed
    window.filterSelection("all"); // Reset filters
  }

  window.onload = loadNews;
</script>

<!-- Contain this later, script for the filter buttons -->
<script>
    filterSelection("all")
    function filterSelection(c) {
        var x, i;
        x = document.getElementsByClassName("filterDiv");
        if (c == "all") c = "";
        // Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
        for (i = 0; i < x.length; i++) {
            w3RemoveClass(x[i], "show");
            if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
        }
    }

    // Show filtered elements
    function w3AddClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            if (arr1.indexOf(arr2[i]) == -1) {
                element.className += " " + arr2[i];
            }
        }
    }

    // Hide elements that are not selected
    function w3RemoveClass(element, name) {
        var i, arr1, arr2;
        arr1 = element.className.split(" ");
        arr2 = name.split(" ");
        for (i = 0; i < arr2.length; i++) {
            while (arr1.indexOf(arr2[i]) > -1) {
                arr1.splice(arr1.indexOf(arr2[i]), 1);
            }
        }
        element.className = arr1.join(" ");
    }

    // Add active class to the current control button (highlight it)
    var btnContainer = document.getElementById("myBtnContainer");
    var btns = btnContainer.getElementsByClassName("btn");
    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener("click", function () {
            var current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    }
</script>
